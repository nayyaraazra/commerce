{% extends "auctions/layout.html" %}

{% block body %}
  <h2>Active Listings</h2>
    {% if AuctionLists %}
        <div>
          {% for AuctionList in AuctionLists %}
            <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 15px;">
              
              <h3>
                <a href="{% url 'AuctionList_detail' AuctionList.id %}">
                  {{ AuctionList.title }}
                </a>
              </h3>

              {% for auction in listings %}
              {% if auction.image_url %}
                <img src="{{ auction.image_url.url }}" alt="{{ auction.title }}" style="max-width: 200px;">
              {% endif %}
              {% endfor %}

              <p>{{ AuctionList.description }}</p>

              <p>
                <strong>Starting bid:</strong> ${{ AuctionList.starting_bid }}
              </p>
              
              <!-- make the assign from index to value works -->
              {% if AuctionList.category %}
                <p>
                  <strong>Category:</strong> {{ AuctionList.category.name }}
                </p>
              {% endif %}

              <p>
                <strong>Status:</strong>
                {% if AuctionList.is_active %}
                  Active
                {% else %}
                  Closed
                {% endif %}
              </p>

            </div>
          {% endfor %}
        </div>
      {% else %}
        <p>No active AuctionLists.</p>
      {% endif %}

{% endblock %}

